<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Sat Jul 15 07:24:34 UTC 2023 -->
<title>OpenCVService (opencv-card-detector 1.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-07-15">
<meta name="description" content="declaration: package: dev.ioliver.services, class: OpenCVService">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/OpenCVService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">dev.ioliver.services</a></div>
<h1 title="Class OpenCVService" class="title">Class OpenCVService</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">dev.ioliver.services.OpenCVService</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">OpenCVService</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">The OpenCVService class provides various image processing operations using the OpenCV library.
 It includes methods for treating images, finding contours, extracting card information, and drawing on images.
 This class follows the singleton design pattern.
 To get an instance of the OpenCVService class, use the <a href="#getInstance()"><code>getInstance()</code></a> method.
 To perform image processing operations, use the methods provided by this class.
 <p>
 This class requires the OpenCV library to be loaded locally using <code>OpenCV.loadLocally()</code>.
 It also uses environment variables to configure certain parameters.
 The required environment variables are:
 - MIN_CARD_AREA: Minimum area of a card contour (default: 20000)
 - MAX_CARD_AREA: Maximum area of a card contour (default: 30000)
 - MAX_BLACK_PERCENTAGE: Maximum percentage of black pixels in a card corner (default: 90)
 You can refer to the CardAreaTest class for consulting the minimum and maximum card area values.
 </p>
 <p>
 This class logs important information using Log4j2.
 </p>
 <p>
 The main operations provided by this class are:
 - Treating an image by blurring and applying Canny edge detection (<a href="#treatImage(org.opencv.core.Mat)"><code>treatImage(Mat)</code></a>).
 - Finding ordered and external contours in an image (<a href="#returnOrderedAndExternalContours(org.opencv.core.Mat)"><code>returnOrderedAndExternalContours(Mat)</code></a>).
 - Extracting all card contours from an image (<a href="#getAllCardsContours(org.opencv.core.Mat)"><code>getAllCardsContours(Mat)</code></a>).
 - Getting the dimensions of a card contour (<a href="#getCardDimensions(dev.ioliver.dtos.CardContour)"><code>getCardDimensions(CardContour)</code></a>).
 - Cutting and flattening a card image (<a href="#cutAndFlatCard(org.opencv.core.Mat,dev.ioliver.dtos.CardDimensions,boolean)"><code>cutAndFlatCard(Mat, CardDimensions, boolean)</code></a>).
 - Extracting the corner of a card image (<a href="#getCorner(org.opencv.core.Mat)"><code>getCorner(Mat)</code></a>).
 - Predicting the rank and suit of a card based on its corner image (<a href="#predictCard(dev.ioliver.dtos.CardCorner)"><code>predictCard(CardCorner)</code></a>).
 - Processing a card by extracting its information (<a href="#getProcessedCard(dev.ioliver.dtos.CardContour,dev.ioliver.dtos.CardDimensions)"><code>getProcessedCard(CardContour, CardDimensions)</code></a>).
 - Drawing text, contours, and cards on an image (<a href="#drawText(org.opencv.core.Mat,java.lang.String,int)"><code>drawText(Mat, String, int)</code></a>, <a href="#drawContours(org.opencv.core.Mat,java.util.List)"><code>drawContours(Mat, List)</code></a>, <a href="#drawCards(org.opencv.core.Mat,java.util.List)"><code>drawCards(Mat, List)</code></a>).
 </p></div>
<dl class="notes">
<dt>Author:</dt>
<dd>Igor Oliveira</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.opencv.core.Mat</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cutAndFlatCard(org.opencv.core.Mat,dev.ioliver.dtos.CardDimensions,boolean)" class="member-name-link">cutAndFlatCard</a><wbr>(org.opencv.core.Mat&nbsp;originalFrame,
 <a href="../dtos/CardDimensions.html" title="class in dev.ioliver.dtos">CardDimensions</a>&nbsp;cardDimensions,
 boolean&nbsp;invert)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cuts and flattens a card from the original frame based on the card dimensions.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#drawCards(org.opencv.core.Mat,java.util.List)" class="member-name-link">drawCards</a><wbr>(org.opencv.core.Mat&nbsp;frame,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dtos/Card.html" title="class in dev.ioliver.dtos">Card</a>&gt;&nbsp;cards)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Draws the cards on the input frame.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#drawContours(org.opencv.core.Mat,java.util.List)" class="member-name-link">drawContours</a><wbr>(org.opencv.core.Mat&nbsp;frame,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dtos/CardContour.html" title="class in dev.ioliver.dtos">CardContour</a>&gt;&nbsp;cardContours)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Draws the card contours on the input frame.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#drawText(org.opencv.core.Mat,java.lang.String,int)" class="member-name-link">drawText</a><wbr>(org.opencv.core.Mat&nbsp;frame,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;text,
 int&nbsp;line)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Draws text on the input frame.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dtos/CardContour.html" title="class in dev.ioliver.dtos">CardContour</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllCardsContours(org.opencv.core.Mat)" class="member-name-link">getAllCardsContours</a><wbr>(org.opencv.core.Mat&nbsp;frame)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Extracts all card contours from the input frame.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../dtos/CardDimensions.html" title="class in dev.ioliver.dtos">CardDimensions</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCardDimensions(dev.ioliver.dtos.CardContour)" class="member-name-link">getCardDimensions</a><wbr>(<a href="../dtos/CardContour.html" title="class in dev.ioliver.dtos">CardContour</a>&nbsp;contour)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculates the dimensions of a card contour.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../dtos/CardCorner.html" title="class in dev.ioliver.dtos">CardCorner</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCorner(org.opencv.core.Mat)" class="member-name-link">getCorner</a><wbr>(org.opencv.core.Mat&nbsp;flattenedCardImage)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Extracts the corner of a flattened card image.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="OpenCVService.html" title="class in dev.ioliver.services">OpenCVService</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getInstance()" class="member-name-link">getInstance</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the singleton instance of the OpenCVService class.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../dtos/Card.html" title="class in dev.ioliver.dtos">Card</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getProcessedCard(dev.ioliver.dtos.CardContour,dev.ioliver.dtos.CardDimensions)" class="member-name-link">getProcessedCard</a><wbr>(<a href="../dtos/CardContour.html" title="class in dev.ioliver.dtos">CardContour</a>&nbsp;cardContour,
 <a href="../dtos/CardDimensions.html" title="class in dev.ioliver.dtos">CardDimensions</a>&nbsp;cardDimensions)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes a card by extracting its information.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../dtos/CardPredict.html" title="class in dev.ioliver.dtos">CardPredict</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#predictCard(dev.ioliver.dtos.CardCorner)" class="member-name-link">predictCard</a><wbr>(<a href="../dtos/CardCorner.html" title="class in dev.ioliver.dtos">CardCorner</a>&nbsp;corner)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Predicts the rank and suit of a card based on its corner images.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.opencv.core.MatOfPoint&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#returnOrderedAndExternalContours(org.opencv.core.Mat)" class="member-name-link">returnOrderedAndExternalContours</a><wbr>(org.opencv.core.Mat&nbsp;frame)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finds the ordered and external contours in the input frame.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.opencv.core.Mat</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#treatImage(org.opencv.core.Mat)" class="member-name-link">treatImage</a><wbr>(org.opencv.core.Mat&nbsp;frame)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Applies image processing operations to the input frame.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getInstance()">
<h3>getInstance</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="OpenCVService.html" title="class in dev.ioliver.services">OpenCVService</a></span>&nbsp;<span class="element-name">getInstance</span>()</div>
<div class="block">Returns the singleton instance of the OpenCVService class.
 If the instance doesn't exist, it creates a new one.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The OpenCVService instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="treatImage(org.opencv.core.Mat)">
<h3>treatImage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.opencv.core.Mat</span>&nbsp;<span class="element-name">treatImage</span><wbr><span class="parameters">(org.opencv.core.Mat&nbsp;frame)</span></div>
<div class="block">Applies image processing operations to the input frame.
 It blurs the frame using a 2x2 kernel and applies Canny edge detection.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frame</code> - The input frame to be processed.</dd>
<dt>Returns:</dt>
<dd>The processed frame with highlighted edges.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="returnOrderedAndExternalContours(org.opencv.core.Mat)">
<h3>returnOrderedAndExternalContours</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.opencv.core.MatOfPoint&gt;</span>&nbsp;<span class="element-name">returnOrderedAndExternalContours</span><wbr><span class="parameters">(org.opencv.core.Mat&nbsp;frame)</span></div>
<div class="block">Finds the ordered and external contours in the input frame.
 It uses the <a href="#treatImage(org.opencv.core.Mat)"><code>treatImage(Mat)</code></a> method to preprocess the frame and then finds the contours using the findContours method.
 The contours are ordered based on their area, and only the external contours are returned.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frame</code> - The input frame to find contours in.</dd>
<dt>Returns:</dt>
<dd>The list of external contours ordered by area.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllCardsContours(org.opencv.core.Mat)">
<h3>getAllCardsContours</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dtos/CardContour.html" title="class in dev.ioliver.dtos">CardContour</a>&gt;</span>&nbsp;<span class="element-name">getAllCardsContours</span><wbr><span class="parameters">(org.opencv.core.Mat&nbsp;frame)</span></div>
<div class="block">Extracts all card contours from the input frame.
 It uses the <a href="#returnOrderedAndExternalContours(org.opencv.core.Mat)"><code>returnOrderedAndExternalContours(Mat)</code></a> method to get the ordered and external contours,
 and then filters the contours based on their area and shape to extract the card contours.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frame</code> - The input frame to extract card contours from.</dd>
<dt>Returns:</dt>
<dd>The list of card contours.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCardDimensions(dev.ioliver.dtos.CardContour)">
<h3>getCardDimensions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../dtos/CardDimensions.html" title="class in dev.ioliver.dtos">CardDimensions</a></span>&nbsp;<span class="element-name">getCardDimensions</span><wbr><span class="parameters">(<a href="../dtos/CardContour.html" title="class in dev.ioliver.dtos">CardContour</a>&nbsp;contour)</span></div>
<div class="block">Calculates the dimensions of a card contour.
 It calculates the center coordinates, width, and height of the card contour's bounding rectangle.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>contour</code> - The card contour to calculate dimensions for.</dd>
<dt>Returns:</dt>
<dd>The dimensions of the card contour.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cutAndFlatCard(org.opencv.core.Mat,dev.ioliver.dtos.CardDimensions,boolean)">
<h3>cutAndFlatCard</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.opencv.core.Mat</span>&nbsp;<span class="element-name">cutAndFlatCard</span><wbr><span class="parameters">(org.opencv.core.Mat&nbsp;originalFrame,
 <a href="../dtos/CardDimensions.html" title="class in dev.ioliver.dtos">CardDimensions</a>&nbsp;cardDimensions,
 boolean&nbsp;invert)</span></div>
<div class="block">Cuts and flattens a card from the original frame based on the card dimensions.
 It uses perspective transformation to cut and flatten the card image.
 The output image is resized to a fixed width and height.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>originalFrame</code> - The original frame containing the card.</dd>
<dd><code>cardDimensions</code> - The dimensions of the card contour.</dd>
<dd><code>invert</code> - Indicates whether to invert the card image.</dd>
<dt>Returns:</dt>
<dd>The cut and flattened card image.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCorner(org.opencv.core.Mat)">
<h3>getCorner</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../dtos/CardCorner.html" title="class in dev.ioliver.dtos">CardCorner</a></span>&nbsp;<span class="element-name">getCorner</span><wbr><span class="parameters">(org.opencv.core.Mat&nbsp;flattenedCardImage)</span></div>
<div class="block">Extracts the corner of a flattened card image.
 It takes a submat of the card image to extract the corner region.
 The corner region is then resized and thresholded to get the corner rank and suit images.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>flattenedCardImage</code> - The flattened card image.</dd>
<dt>Returns:</dt>
<dd>The corner information including the full corner image, corner rank image, and corner suit image.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="predictCard(dev.ioliver.dtos.CardCorner)">
<h3>predictCard</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../dtos/CardPredict.html" title="class in dev.ioliver.dtos">CardPredict</a></span>&nbsp;<span class="element-name">predictCard</span><wbr><span class="parameters">(<a href="../dtos/CardCorner.html" title="class in dev.ioliver.dtos">CardCorner</a>&nbsp;corner)</span></div>
<div class="block">Predicts the rank and suit of a card based on its corner images.
 It performs template matching to find the best match for the corner rank and suit images.
 The rank and suit with the highest match score are selected as the predicted values.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>corner</code> - The corner information including the corner rank and suit images.</dd>
<dt>Returns:</dt>
<dd>The predicted rank and suit of the card.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getProcessedCard(dev.ioliver.dtos.CardContour,dev.ioliver.dtos.CardDimensions)">
<h3>getProcessedCard</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../dtos/Card.html" title="class in dev.ioliver.dtos">Card</a></span>&nbsp;<span class="element-name">getProcessedCard</span><wbr><span class="parameters">(<a href="../dtos/CardContour.html" title="class in dev.ioliver.dtos">CardContour</a>&nbsp;cardContour,
 <a href="../dtos/CardDimensions.html" title="class in dev.ioliver.dtos">CardDimensions</a>&nbsp;cardDimensions)</span></div>
<div class="block">Processes a card by extracting its information.
 It cuts and flattens the card image, extracts the corner information, and predicts the rank and suit of the card.
 If the percentage of black pixels in the corner exceeds the maximum threshold,
 it cuts and flattens the card image again with an inverted perspective transformation to improve prediction accuracy.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cardContour</code> - The card contour information.</dd>
<dd><code>cardDimensions</code> - The dimensions of the card contour.</dd>
<dt>Returns:</dt>
<dd>The processed card object containing the card image, contour information, dimensions, and predicted rank and suit.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="drawText(org.opencv.core.Mat,java.lang.String,int)">
<h3>drawText</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">drawText</span><wbr><span class="parameters">(org.opencv.core.Mat&nbsp;frame,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;text,
 int&nbsp;line)</span></div>
<div class="block">Draws text on the input frame.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frame</code> - The input frame to draw text on.</dd>
<dd><code>text</code> - The text to be drawn.</dd>
<dd><code>line</code> - The line number to position the text vertically.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="drawContours(org.opencv.core.Mat,java.util.List)">
<h3>drawContours</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">drawContours</span><wbr><span class="parameters">(org.opencv.core.Mat&nbsp;frame,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dtos/CardContour.html" title="class in dev.ioliver.dtos">CardContour</a>&gt;&nbsp;cardContours)</span></div>
<div class="block">Draws the card contours on the input frame.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frame</code> - The input frame to draw the card contours on.</dd>
<dd><code>cardContours</code> - The list of card contours.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="drawCards(org.opencv.core.Mat,java.util.List)">
<h3>drawCards</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">drawCards</span><wbr><span class="parameters">(org.opencv.core.Mat&nbsp;frame,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dtos/Card.html" title="class in dev.ioliver.dtos">Card</a>&gt;&nbsp;cards)</span></div>
<div class="block">Draws the cards on the input frame.
 It draws the card contours and predicts the rank and suit for each card, and draws the corresponding text on the frame.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frame</code> - The input frame to draw the cards on.</dd>
<dd><code>cards</code> - The list of cards.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
